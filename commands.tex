\setlength{\parindent}{0pt} 
\renewcommand\sfdefault{phv}

\makeatletter
    \renewcommand*\l@subsection{\@dottedtocline{2}{0em}{2.3em}}
    \renewcommand*\l@subsection{\@dottedtocline{3}{0em}{3.2em}}
    \renewcommand{\tableofcontents}{\@starttoc{toc}}
\makeatother

\MakePerPage{footnote}
\renewcommand*{\thefootnote}{\fnsymbol{footnote}}

\newcommand{\pdfimg}[1]{\pdfximage{pics/#1}\pdfrefximage\pdflastximage}
\newcommand{\img}[1]{\mbox{\pdfimg{#1}}}
\newcommand{\imgc}[1]{\begin{center}\img{#1}\end{center}}
\newcommand{\graph}[1]{\input{graphs/#1}}
\newcommand{\graphc}[1]{\begin{center}\graph{#1}\end{center}}
\newcommand{\bfs}[1]{{\bfseries #1}}

\lstdefinelanguage
   [arm]{Assembler}                     % add a "arm" dialect of Assembler
   {morekeywords={}}    % with these extra keywords:
\lstset{
        language=[arm]Assembler,
        numbers=none,
        numberstyle=\tiny,
        numberblanklines=false,
        stepnumber=1,
        numbersep=10pt
}

\newcommand{\cpp}[1]{{\lstinline[
		basicstyle=\ttfamily\small\color{black},
        breakatwhitespace=true,
        breaklines=true,
        captionpos=b,
        commentstyle=\ttfamily\color{red},
        keywordstyle=\ttfamily\color{blue},
        language={C++},
        morekeywords={co\_await,from,noexcept,resumable,co\_yield},
        showspaces=false,
        showstringspaces=false,
        showtabs=false,
        stringstyle=\ttfamily\color{magenta}
] !#1!}\xspace}
\newcommand{\cppf}[1]{\lstinputlisting[
		basicstyle=\ttfamily\small\color{black},
        breakatwhitespace=true,
        breaklines=true,
        captionpos=b,
        commentstyle=\ttfamily\color{red},
        keywordstyle=\ttfamily\color{blue},
        language={C++},
        morekeywords={co\_await,from,noexcept,resumable,co\_yield},
        showspaces=false,
        showstringspaces=false,
        showtabs=false,
        stringstyle=\ttfamily\color{magenta}
] {code/#1.cpp}}

\newcommand{\asm}[1]{
    \lstinline[
        basicstyle=\ttfamily\color{black},
        keywordstyle=\color{blue},
        commentstyle=\color{green},
        stringstyle=\color{red}
    ] {#1}
}
\newcommand{\asmf}[1]{
    \lstinputlisting[
        basicstyle=\ttfamily\color{black},
        keywordstyle=\color{blue},
        commentstyle=\color{green},
        stringstyle=\color{red}
    ] {code/#1}
}
\newcommand{\asmfn}[1]{
    \lstinputlisting[
        numbers=left,
        basicstyle=\ttfamily\color{black},
        keywordstyle=\color{blue},
        commentstyle=\color{green},
        stringstyle=\color{red}
    ] {code/#1}
}

\newcommand{\callcc}{\cpp{std::callcc()}}
\newcommand{\resume}{\cpp{resume()}\xspace}
\newcommand{\contresume}{\cpp{std::continuation::resume()}}
\newcommand{\resumewith}{\cpp{resume\_with()}}
\newcommand{\cont}{\cpp{std::continuation}\xspace}
\newcommand{\dtor}{\cpp{\~continuation()}}
\newcommand{\main}{\cpp{main()}\xspace}
\newcommand{\nullptr}{\cpp{nullptr}\xspace}
\newcommand{\opbool}{\cpp{operator bool()}\xspace}
\newcommand{\unwindex}{\cpp{std::unwind\_exception}\xspace}
\newcommand{\unwindcont}{\cpp{std::unwind\_context()}}
\newcommand{\coawait}{\cpp{co\_await}}

\newcommand{\cc}{\emph{call/cc}\xspace}
\newcommand{\uc}{\emph{ucontext}\xspace}
\newcommand{\lj}{\emph{longjmp}\xspace}
\newcommand{\sj}{\emph{setjmp}\xspace}
\newcommand{\entryfn}{\emph{entry-function}\xspace}
\newcommand{\shift}{\emph{shift}\xspace}
\newcommand{\reset}{\emph{reset}\xspace}
\newcommand{\currcont}{\bfs{current continuation}\xspace}

\newcommand{\citecomma}{\textsuperscript{,}}

\newcommand{\abschnitt}[1]{\addcontentsline{toc}{subsection}{#1}\subsection*{#1}}
\newcommand{\uabschnitt}[1]{\paragraph*{#1}}
